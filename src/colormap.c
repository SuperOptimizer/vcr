#include "vcr.h"

// Viridis colormap data (256 RGB values)
// Generated from matplotlib's viridis colormap
static const u8 viridis_data[256][3] = {
    {68, 1, 84}, {68, 2, 85}, {69, 3, 87}, {69, 5, 88}, {69, 6, 90}, {70, 8, 91}, {70, 9, 93}, {70, 11, 94},
    {70, 12, 96}, {71, 14, 97}, {71, 15, 99}, {71, 17, 100}, {71, 18, 102}, {71, 20, 103}, {72, 21, 104}, {72, 23, 106},
    {72, 24, 107}, {72, 26, 109}, {72, 27, 110}, {72, 29, 111}, {72, 30, 113}, {72, 32, 114}, {72, 33, 115}, {72, 35, 117},
    {72, 36, 118}, {72, 38, 119}, {72, 39, 121}, {71, 41, 122}, {71, 42, 123}, {71, 44, 124}, {71, 45, 126}, {71, 47, 127},
    {70, 48, 128}, {70, 50, 129}, {70, 51, 131}, {70, 53, 132}, {69, 54, 133}, {69, 56, 134}, {69, 57, 135}, {68, 59, 136},
    {68, 60, 137}, {68, 62, 139}, {67, 63, 140}, {67, 65, 141}, {66, 66, 142}, {66, 68, 143}, {66, 69, 144}, {65, 71, 145},
    {65, 72, 146}, {64, 74, 147}, {64, 75, 148}, {63, 77, 149}, {63, 78, 150}, {62, 80, 151}, {62, 81, 152}, {61, 83, 153},
    {61, 84, 154}, {60, 86, 155}, {60, 87, 156}, {59, 89, 156}, {59, 90, 157}, {58, 92, 158}, {58, 93, 159}, {57, 95, 160},
    {57, 96, 161}, {56, 98, 162}, {56, 99, 162}, {55, 101, 163}, {55, 102, 164}, {54, 103, 165}, {54, 105, 166}, {53, 106, 166},
    {53, 108, 167}, {52, 109, 168}, {52, 111, 169}, {51, 112, 169}, {51, 114, 170}, {50, 115, 171}, {50, 116, 172}, {49, 118, 172},
    {49, 119, 173}, {49, 121, 174}, {48, 122, 174}, {48, 124, 175}, {47, 125, 176}, {47, 126, 176}, {46, 128, 177}, {46, 129, 178},
    {46, 131, 178}, {45, 132, 179}, {45, 133, 180}, {44, 135, 180}, {44, 136, 181}, {44, 138, 182}, {43, 139, 182}, {43, 140, 183},
    {42, 142, 183}, {42, 143, 184}, {42, 145, 185}, {41, 146, 185}, {41, 147, 186}, {41, 149, 186}, {40, 150, 187}, {40, 151, 187},
    {40, 153, 188}, {39, 154, 188}, {39, 155, 189}, {39, 157, 189}, {38, 158, 190}, {38, 159, 190}, {38, 161, 191}, {37, 162, 191},
    {37, 163, 192}, {37, 165, 192}, {36, 166, 193}, {36, 167, 193}, {36, 169, 194}, {36, 170, 194}, {35, 171, 194}, {35, 173, 195},
    {35, 174, 195}, {34, 175, 196}, {34, 176, 196}, {34, 178, 196}, {34, 179, 197}, {33, 180, 197}, {33, 182, 198}, {33, 183, 198},
    {33, 184, 198}, {32, 185, 199}, {32, 187, 199}, {32, 188, 199}, {32, 189, 200}, {31, 190, 200}, {31, 192, 200}, {31, 193, 201},
    {31, 194, 201}, {31, 195, 201}, {30, 197, 202}, {30, 198, 202}, {30, 199, 202}, {30, 200, 203}, {30, 202, 203}, {29, 203, 203},
    {29, 204, 203}, {29, 205, 204}, {29, 206, 204}, {29, 208, 204}, {29, 209, 204}, {28, 210, 205}, {28, 211, 205}, {28, 212, 205},
    {28, 214, 205}, {28, 215, 206}, {28, 216, 206}, {28, 217, 206}, {27, 218, 206}, {27, 220, 206}, {27, 221, 207}, {27, 222, 207},
    {27, 223, 207}, {27, 224, 207}, {27, 225, 207}, {27, 227, 208}, {27, 228, 208}, {26, 229, 208}, {26, 230, 208}, {26, 231, 208},
    {26, 232, 208}, {26, 234, 209}, {26, 235, 209}, {26, 236, 209}, {26, 237, 209}, {26, 238, 209}, {26, 239, 209}, {26, 240, 209},
    {26, 242, 210}, {26, 243, 210}, {26, 244, 210}, {26, 245, 210}, {26, 246, 210}, {26, 247, 210}, {26, 248, 210}, {26, 249, 210},
    {27, 251, 211}, {27, 252, 211}, {27, 253, 211}, {27, 254, 211}, {27, 255, 211}, {28, 255, 211}, {28, 255, 211}, {28, 255, 211},
    {29, 255, 211}, {29, 255, 211}, {29, 255, 212}, {30, 255, 212}, {30, 255, 212}, {31, 255, 212}, {31, 255, 212}, {32, 255, 212},
    {32, 255, 212}, {33, 255, 212}, {33, 255, 212}, {34, 255, 212}, {35, 255, 212}, {35, 255, 212}, {36, 255, 212}, {37, 255, 212},
    {37, 255, 212}, {38, 255, 212}, {39, 255, 212}, {40, 255, 212}, {40, 255, 212}, {41, 255, 212}, {42, 255, 212}, {43, 255, 212},
    {44, 255, 212}, {45, 255, 212}, {45, 255, 212}, {46, 255, 212}, {47, 255, 212}, {48, 255, 212}, {49, 255, 212}, {50, 255, 212},
    {51, 255, 211}, {52, 255, 211}, {53, 255, 211}, {54, 255, 211}, {55, 255, 211}, {56, 255, 211}, {57, 255, 211}, {58, 255, 211},
    {59, 255, 211}, {60, 255, 211}, {61, 255, 210}, {62, 255, 210}, {63, 255, 210}, {65, 255, 210}, {66, 255, 210}, {67, 255, 210},
    {68, 255, 209}, {69, 255, 209}, {70, 255, 209}, {72, 255, 209}, {73, 255, 209}, {74, 255, 208}, {75, 255, 208}, {77, 255, 208},
    {78, 255, 208}, {79, 255, 207}, {81, 255, 207}, {82, 255, 207}, {83, 255, 207}, {85, 255, 206}, {86, 255, 206}, {87, 255, 206},

};

rgb apply_viridis_colormap(u8 value) {
    return (rgb){
        .r = viridis_data[value][0],
        .g = viridis_data[value][1],
        .b = viridis_data[value][2]
    };
}